[gd_scene load_steps=10 format=3 uid="uid://cq88xdrncoy7q"]

[ext_resource type="Shader" uid="uid://djton2wsbacqn" path="res://shaders/tree_sway.gdshader" id="1_ecf0o"]
[ext_resource type="Texture2D" uid="uid://b58ok52ih20wx" path="res://textures/environment/forest/pine_tree.png" id="1_hd6uw"]
[ext_resource type="Script" uid="uid://clsw7pobnlxjc" path="res://scripts/environment/tree_sprite.gd" id="4_2n0dj"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_f8oma"]
frequency = 0.0142

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_7p0in"]
noise = SubResource("FastNoiseLite_f8oma")
seamless = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_bqjmp"]
shader = ExtResource("1_ecf0o")
shader_parameter/wind_strength = 0.082000003895
shader_parameter/wind_speed = 0.027000001282499998
shader_parameter/max_angle = 0.2
shader_parameter/spiral_strength = 1.4010000665475
shader_parameter/sprite_height = 96.0
shader_parameter/pixel_size = 1.0
shader_parameter/world_position = Vector2(0, 0)
shader_parameter/noise_scale = 0.0010000000475
shader_parameter/wind_noise = SubResource("NoiseTexture2D_7p0in")
shader_parameter/h_frames = 1
shader_parameter/v_frames = 1
shader_parameter/fps = 8.0
shader_parameter/time_offset = 0.0

[sub_resource type="QuadMesh" id="QuadMesh_x61a3"]
size = Vector2(48, 96)
subdivide_depth = 8

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gtvx5"]
size = Vector2(10, 8)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_47ftq"]
polygon = PackedVector2Array(4, 12, 4, 9, 11, 10, 9, 2, 4, 2, 4, -24, -3, -24, -4, 2, -7, 2, -11, 7, -6, 8, -7, 11)

[node name="PineTree" type="StaticBody2D"]

[node name="Sprite2D" type="MeshInstance2D" parent="."]
light_mask = 2
y_sort_enabled = true
material = SubResource("ShaderMaterial_bqjmp")
position = Vector2(0, -34)
scale = Vector2(1, -1)
mesh = SubResource("QuadMesh_x61a3")
texture = ExtResource("1_hd6uw")
script = ExtResource("4_2n0dj")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 2)
shape = SubResource("RectangleShape2D_gtvx5")

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
occluder = SubResource("OccluderPolygon2D_47ftq")
